for(var inputs=readline().split(" "),nbFloors=parseInt(inputs[0]),width=parseInt(inputs[1]),nbRounds=parseInt(inputs[2]),exitFloor=parseInt(inputs[3]),exitPos=parseInt(inputs[4]),nbTotalClones=parseInt(inputs[5]),nbAdditionalElevators=parseInt(inputs[6]),nbElevators=parseInt(inputs[7]),elevatorFloor=[],elevatorPos=[],i=0;nbElevators>i;i++){var inputs=readline().split(" ");elevatorFloor.push(parseInt(inputs[0])),elevatorPos.push(parseInt(inputs[1]))}for(;;){var inputs=readline().split(" "),cloneFloor=parseInt(inputs[0]),clonePos=parseInt(inputs[1]),direction=inputs[2],action="";print(action)}